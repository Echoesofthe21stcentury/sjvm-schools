<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Teacher Dashboard | SJVM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f8fc;
      margin: 0;
    }
    header {
      background-color: #003366;
      color: white;
      padding: 20px;
      text-align: center;
    }
    nav {
      background-color: #0059b3;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }
    nav a {
      color: white;
      padding: 14px 20px;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      background-color: #003366;
    }
    .container {
      max-width: 1000px;
      margin: 20px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }
    th {
      background: #e0ebff;
    }
    input, select {
      padding: 5px;
      width: 100%;
    }
    .logout {
      text-align: center;
      margin: 20px;
    }
    .logout button {
      padding: 10px 20px;
      background: #b30000;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .logout button:hover {
      background: #800000;
    }
    @media(max-width: 768px) {
      table, thead, tbody, th, td, tr {
        display: block;
      }
      tr {
        margin-bottom: 10px;
      }
      td {
        border: none;
        border-bottom: 1px solid #ccc;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>üë©‚Äçüè´ SJVM Teacher Dashboard</h1>
</header>

<nav>
  <a href="#" onclick="markAttendance()">üìÖ Mark Attendance</a>
  <a href="#" onclick="uploadResult()">üßæ Upload Result</a>
</nav>

<div class="container" id="dashboardContent">
  <p>Welcome, Teacher! Select an option from the menu.</p>
</div>

<div class="logout">
  <button onclick="logout()">Logout</button>
</div>

<script>
  function logout() {
    localStorage.clear();
    window.location.href = "userlogin.html";
  }

  function markAttendance() {
    const html = `
      <h2>üìÖ Mark Attendance</h2>
      <label>Class:</label><input id="attClass" placeholder="e.g. Class 6"><br><br>
      <label>Date:</label><input type="date" id="attDate"><br><br>
      <label>Student IDs (comma separated):</label><textarea id="studentIds" rows="4"></textarea><br><br>
      <label>Attendance Type:</label>
      <select id="statusType">
        <option value="Present">Present</option>
        <option value="Absent">Absent</option>
      </select><br><br>
      <button onclick="submitAttendance()">‚úÖ Mark Attendance</button>
      <div id="attStatus"></div>
    `;
    document.getElementById("dashboardContent").innerHTML = html;
  }

  function submitAttendance() {
    const ids = document.getElementById("studentIds").value.split(",").map(id => id.trim());
    const status = document.getElementById("statusType").value;
    const color = status === "Present" ? "#28FF20" : "#c30010";
    const rows = ids.map(id => `<tr style="background:${color};"><td>${id}</td><td>${status}</td></tr>`).join("");
    document.getElementById("attStatus").innerHTML = `
      <h3>Attendance Summary</h3>
      <table>
        <tr><th>Student ID</th><th>Status</th></tr>
        ${rows}
      </table>
    `;
  }

  function uploadResult() {
    const subjects = ["Kannada", "English", "Hindi", "Mathematics", "EVS", "Science", "Social Science"];
    const subjectRows = subjects.map(sub => `
      <tr>
        <td>${sub}</td>
        <td><input type="number" placeholder="Max"></td>
        <td><input type="number" placeholder="Obtained"></td>
        <td><input type="number" placeholder="Internal"></td>
        <td><input type="number" placeholder="Max Internal"></td>
        <td><input type="number" placeholder="Total"></td>
        <td><input type="text" placeholder="Grade"></td>
      </tr>
    `).join("");

    const finalRows = `
      <tr><td colspan="2"><strong>Total Max Marks</strong></td><td colspan="5"><input type="number" placeholder="e.g. 700"></td></tr>
      <tr><td colspan="2"><strong>Total Obtained</strong></td><td colspan="5"><input type="number" placeholder="e.g. 630"></td></tr>
      <tr><td colspan="2"><strong>Percentage</strong></td><td colspan="5"><input type="text" placeholder="e.g. 90%"></td></tr>
      <tr><td colspan="2"><strong>Final Grade</strong></td><td colspan="5"><input type="text" placeholder="e.g. A+"></td></tr>
      <tr>
        <td colspan="2"><strong>Status</strong></td>
        <td colspan="5">
          <select onchange="this.style.backgroundColor = this.value === 'Fail' ? '#c30010' : '#28FF20'" style="background:#28FF20;">
            <option value="Pass">Pass</option>
            <option value="Fail">Fail</option>
          </select>
        </td>
      </tr>
    `;

    document.getElementById("dashboardContent").innerHTML = `
      <h2>üßæ Upload Result</h2>
      <label>Class:</label><input placeholder="Class"><br><br>
      <label>Student ID:</label><input placeholder="Student ID"><br><br>
      <label>Exam Type:</label>
      <select>
        <option>FA1</option><option>FA2</option><option>SA1</option>
        <option>FA3</option><option>FA4</option><option>SA2</option>
      </select><br><br>
      <table>
        <thead>
          <tr><th>Subject</th><th>Max Marks</th><th>Obtained</th><th>Internal</th><th>Max Internal</th><th>Total</th><th>Grade</th></tr>
        </thead>
        <tbody>
          ${subjectRows}
          ${finalRows}
        </tbody>
      </table><br>
      <button onclick="alert('‚úÖ Result Published!')">üì§ Publish Result</button>
    `;
  }
</script>

</body>
</html>
