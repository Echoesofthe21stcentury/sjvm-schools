<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>School Store | SJVM</title>
  <link rel="stylesheet" href="../css/style.css" />
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .header { display: flex; justify-content: space-between; align-items: center; }
    .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
    .product { border: 1px solid #ccc; border-radius: 8px; padding: 10px; text-align: center; background: #fff; }
    .product img { max-width: 100%; border-radius: 6px; }
    .btn { padding: 8px 12px; margin-top: 10px; background: #007bff; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
    .btn:hover { background: #0056b3; }
  </style>
</head>
<body>

<div class="header">
  <h2>üéí School Shop ‚Äì Preorder Items</h2>
  <a href="dashboard.html" class="btn">‚¨Ö Back to Dashboard</a>
</div>

<div class="products" id="productList">
  <!-- Products will be loaded here -->
</div>

<script>
  // Load products from JSON file
  fetch('../data/products.json')
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById('productList');
      data.forEach(product => {
        const item = document.createElement('div');
        item.className = 'product';
        item.innerHTML = `
          <img src="../images/products/${product.image}" alt="${product.name}" />
          <h3>${product.name}</h3>
          <p>‚Çπ${product.price}</p>
          <button class="btn" onclick="preorder('${product.id}', '${product.name}')">Preorder</button>
        `;
        container.appendChild(item);
      });
    });

  function preorder(id, name) {
    alert(`üõçÔ∏è Preordered: ${name} (Product ID: ${id})\n\n[This will update via GitHub API in backend.]`);
    // Here you'd call GitHub API (with access token) to update student's JSON
  }
</script>

</body>
</html>
